import{r as d,p as u,j as e,o as b,g as f,L as j}from"./index-76169fad.js";import{P as y}from"./PhotoIcon-c505ca73.js";import{P as p}from"./PencilIcon-5662a8f4.js";import{T as N}from"./TrashIcon-743e22ce.js";function A(){const[s,x]=d.useState([]),[i,n]=d.useState(!0),[r,c]=d.useState(""),[o,a]=d.useState(!1);d.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0);const t=await u.getProducts({limit:100});x(t.data||[])}catch(t){console.error("Failed to fetch products:",t)}finally{n(!1)}},m=async t=>{if(confirm("Are you sure you want to delete this product?"))try{await u.deleteProduct(t),await l()}catch(h){console.error("Failed to delete product:",h),alert("Failed to delete product. Please try again.")}},g=s.filter(t=>t.name.toLowerCase().includes(r.toLowerCase())||t.description.toLowerCase().includes(r.toLowerCase()));return i?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((t,h)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4 w-2/3"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},h))})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Manage Products"}),e.jsx("p",{className:"text-gray-600",children:"Add, edit, and manage your rental inventory"})]}),e.jsxs("button",{onClick:()=>a(!0),className:"mt-4 sm:mt-0 inline-flex items-center bg-brand text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(b,{className:"w-5 h-5 mr-2"}),"Add Product"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search products...",value:r,onChange:t=>c(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand focus:border-brand"})}),e.jsxs("div",{className:"text-sm text-gray-600",children:[g.length," of ",s.length," products"]})]})}),g.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(t=>e.jsx(w,{product:t,onDelete:m},t._id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r?"No products found":"No products yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:r?`No results for "${r}"`:"Get started by adding your first product to the inventory"}),!r&&e.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center bg-brand text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(b,{className:"w-5 h-5 mr-2"}),"Add First Product"]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Product"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Product creation form would go here. For this demo, please use the backend API directly or seeded data."}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-brand text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})]})]})})]})})}function w({product:s,onDelete:x}){var c,o,a,l,m;const i=((c=s.images)==null?void 0:c[0])||null,n=((a=(o=s.pricing)==null?void 0:o[0])==null?void 0:a.rate)||0,r=((m=(l=s.pricing)==null?void 0:l[0])==null?void 0:m.unit)||"day";return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100",children:[i?e.jsx("img",{src:i,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(y,{className:"w-12 h-12 text-gray-400"})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.stock>5?"bg-green-100 text-green-800":s.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[s.stock," in stock"]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:s.description})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-brand",children:["â‚¹",n,e.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["/",r]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(f,{className:"w-4 h-4 mr-1"}),s.stock," available"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j,{to:`/products/${s._id}`,className:"flex-1 text-center bg-gray-100 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:"View"}),e.jsx("button",{onClick:()=>alert("Edit functionality would be implemented here"),className:"flex items-center justify-center bg-brand text-white p-2 rounded-lg hover:bg-blue-700 transition-colors",children:e.jsx(p,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>x(s._id),className:"flex items-center justify-center bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(N,{className:"w-4 h-4"})})]})]})]})}export{A as default};
