import{r as l,u as P,j as e,t as E,U as j,v as H,H as L,w as F,l as N,h as B,V as v}from"./index-76169fad.js";import{g as A,u as M}from"./hosts-a0d77ddc.js";import{I as U}from"./ImageUpload-95b88665.js";import{M as $}from"./MapPinIcon-dea18e68.js";import{B as V}from"./BanknotesIcon-9d4ab82b.js";import{C as W}from"./ChartBarIcon-105c5e5a.js";import{C as q}from"./CheckBadgeIcon-eecae9d8.js";function D({title:a,titleId:i,...n},x){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:x,"aria-labelledby":i},n),a?l.createElement("title",{id:i},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const G=l.forwardRef(D),Y=G;function _(){const[a,i]=l.useState({name:"",email:"",phone:"",location:"",bio:"",profileImage:"",languages:[],responseTime:"",hostSince:""}),[n,x]=l.useState({totalListings:0,totalBookings:0,totalRevenue:0,averageRating:0,responseRate:0,totalReviews:0}),[y,w]=l.useState(!0),[h,u]=l.useState(!1),[g,p]=l.useState(null),[m,f]=l.useState("profile"),{user:t,updateUser:k,isHost:b}=P();l.useEffect(()=>{if(!b()){window.location.href="/";return}i({name:t.name||"",email:t.email||"",phone:t.phone||"",location:t.location||"",bio:t.bio||"",profileImage:t.profileImage||"",languages:t.languages||[],responseTime:t.responseTime||"",hostSince:t.hostSince||t.createdAt}),S(),w(!1)},[t,b]);const S=async()=>{try{const s=await A();x(s.data)}catch(s){console.error("Error fetching host stats:",s)}},o=s=>{const{name:r,value:d}=s.target;i(c=>({...c,[r]:d}))},I=s=>{i(r=>({...r,languages:r.languages.includes(s)?r.languages.filter(d=>d!==s):[...r.languages,s]}))},R=s=>{i(r=>({...r,profileImage:s}))},T=async s=>{var r,d;s.preventDefault(),u(!0);try{const c=await M(a);k(c.data.user),v.success("Profile updated successfully!"),p(null)}catch(c){console.error("Error updating profile:",c),p(((d=(r=c.response)==null?void 0:r.data)==null?void 0:d.message)||"Failed to update profile"),v.error("Failed to update profile")}finally{u(!1)}},C=["English","Hindi","Bengali","Telugu","Marathi","Tamil","Gujarati","Urdu","Kannada","Malayalam","Punjabi","Spanish","French","German","Chinese","Japanese"];return y?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand"})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Host Profile"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your host profile and view your statistics"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>f("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="profile"?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Profile Information"}),e.jsx("button",{onClick:()=>f("stats"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="stats"?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Host Statistics"})]})}),m==="profile"&&e.jsxs("div",{className:"p-6",children:[g&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(E,{className:"h-5 w-5 text-red-400"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:g})]})]})}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Profile Picture"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"relative",children:a.profileImage?e.jsx("img",{src:a.profileImage,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(j,{className:"w-12 h-12 text-gray-400"})})}),e.jsx(U,{onImageUpload:R,accept:"image/*",maxSize:5,className:"text-sm",children:"Change Photo"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(j,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:a.name,onChange:o,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-brand focus:border-brand"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address *"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(H,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:a.email,onChange:o,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-brand focus:border-brand"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Y,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:o,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-brand focus:border-brand"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx($,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"location",name:"location",value:a.location,onChange:o,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-brand focus:border-brand",placeholder:"e.g., Mumbai, Maharashtra"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"About You"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"bio",name:"bio",rows:4,value:a.bio,onChange:o,className:"block w-full border border-gray-300 rounded-md focus:ring-brand focus:border-brand",placeholder:"Tell guests about yourself, your hosting experience, and what makes your place special..."})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"A great bio helps guests feel more comfortable booking with you."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Languages You Speak"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:C.map(s=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.languages.includes(s),onChange:()=>I(s),className:"h-4 w-4 text-brand focus:ring-brand border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"responseTime",className:"block text-sm font-medium text-gray-700",children:"Typical Response Time"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"responseTime",name:"responseTime",value:a.responseTime,onChange:o,className:"block w-full border border-gray-300 rounded-md focus:ring-brand focus:border-brand",children:[e.jsx("option",{value:"",children:"Select response time"}),e.jsx("option",{value:"within an hour",children:"Within an hour"}),e.jsx("option",{value:"within a few hours",children:"Within a few hours"}),e.jsx("option",{value:"within a day",children:"Within a day"}),e.jsx("option",{value:"a few days or more",children:"A few days or more"})]})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Verification Status"}),e.jsx(L,{host:t,showRequestButton:!0})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:h,className:"bg-brand text-white px-6 py-2 rounded-md font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand disabled:opacity-50",children:h?"Saving...":"Save Changes"})})]})]}),m==="stats"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(F,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Total Listings"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.totalListings})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(N,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Total Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.totalBookings})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(V,{className:"h-8 w-8 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:["₹",n.totalRevenue.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(B,{className:"h-8 w-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Average Rating"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:n.averageRating?`${n.averageRating.toFixed(1)} ⭐`:"No ratings"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(W,{className:"h-8 w-8 text-indigo-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-indigo-900",children:"Response Rate"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:n.responseRate?`${n.responseRate}%`:"No data"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-pink-50 to-pink-100 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(q,{className:"h-8 w-8 text-pink-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-pink-900",children:"Total Reviews"}),e.jsx("p",{className:"text-2xl font-bold text-pink-900",children:n.totalReviews})]})]})})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{className:"h-6 w-6 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Host since"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(a.hostSince).toLocaleDateString("en-US",{year:"numeric",month:"long"})})]})]})})]})]})]})})}export{_ as default};
